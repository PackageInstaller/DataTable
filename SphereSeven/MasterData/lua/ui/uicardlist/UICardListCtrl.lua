---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by win 10.
--- DateTime: 2019/5/24 16:58
---
---@class UICardListCtrl : UIBaseCtrl
local UICardListCtrl = BaseClass("UICardListCtrl",UIBaseCtrl);
local base = UIBaseCtrl
local this = UICardListCtrl

function this.CloseSelf(self)
    UIManager:GetInstance():CloseWindow(UIWindowNames.UICardList)
end

function this.GetUIName()
    return UIWindowNames.UICardList
end

function this.GetCardList(self)
    return Game.Scene.Player:GetComponent("CardComponent").Cards
end

--- 是否显示确认按钮
function this.ShowConfirmButton(self)
    return false
end

function this.OnConfirmButton(self)
end

--- 每次生成(刷新)card时是否初始化(进行特殊处理)
function this.IsCardInit(self)
    return true
end

function this.CardInit(self, data, transform)
    if self.model.cardInit ~= nil then
        self.model.cardInit(data, transform)
    end
end

---@param cardData Card
function this.OnClickCardButton(self, cardData, gameObject, characterList)
    if self.model.callBack == nil then
        local openData = {}
        openData.cur_panel_id = 1;
        openData.cur_card = cardData
        openData.parent = UIWindowNames.UICardList
        openData.characterList = characterList

        ---@type HintComponent
        local hintComponent = Game.Scene:GetComponent("HintComponent")
        hintComponent.Card:GetChild("Cards"):GetChild(cardData.Id):Click()

        UIManager:GetInstance():OpenWindow(UIWindowNames.UICardIntens,openData)
    else
        self.model.callBack(cardData, gameObject)
    end
end

--- 点击card时 是否重置筛选条件
function this.ClickCardToResetScreenTypes(self)
    --排序 1.配列：都保存 2.升序降序/显示属性的：退出单个卡片强化窗口不重置，退出整个角色强化界面重置
    -- gh: 看之前的代码 没有callBack的话 也会重置这里
    return false
end

function this.OnEnableResetScreenTypes()
    return false
end

function this:isAddHint()
    return true
end

return this
