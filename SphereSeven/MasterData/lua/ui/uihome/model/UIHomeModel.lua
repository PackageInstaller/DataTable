---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by win 10.
--- DateTime: 2019/4/2 14:30
---
local UIHomeModel = BaseClass("UIHomeModel",UIBaseModel)
local base = UIBaseModel
maxLevel = 200

local function OnCreate(self)
    base.OnCreate(self)
end

local function OnEnable(self)
    base.OnEnable(self)
    self:OnRefresh()
end

local function OnPlayerCurrencyChg(self)
    self:OnRefresh()
    self:UIBroadcast(UIMessageNames.ON_PLAYER_INFO_CHG)
end

local function OnRefresh(self)

end

local function OnMainUICardChg(self)
    self:UIBroadcast(UIMessageNames.ON_MAIN_UI_CARD_CHG)
end

local function OnRoomInfoChg(self)
    self:UIBroadcast(UIMessageNames.ON_ROOM_INFO_CHG)
end

local function OnSummonInfoChg(self)
    self:UIBroadcast(UIMessageNames.ON_SUMMON_INFO_CHG)
end

local function OnHomeCardRectChg(self,info)
    if info.liveType == Live2DType.Home then
        self:UIBroadcast(UIMessageNames.ON_HOME_CARD_RECT_CHG,info)
    end
end

local function ChangeSleepBuffState(self,id)
    self:UIBroadcast(UIMessageNames.ON_SLEEP_BUFF_CHG,id)
end

local function ChangeRestBuffState(self,id)
    self:UIBroadcast(UIMessageNames.ON_REST_BUFF_CHG,id)
end

local function OnCardInfoChg(self,info)
    self:UIBroadcast(UIMessageNames.ON_CARD_INFO_CHG,info)
end

local function OnTimeReset(self)
    self:UIBroadcast(UIMessageNames.ON_TIME_RESET)
end

--local function ON_Guide_Click(self,cid,num,isrun,minStep)
--    self:UIBroadcast(UIMessageNames.ON_Guide_Click,cid,num,isrun,minStep)
--end

local function OnPaidStarStoneChg(self)
    self:UIBroadcast(UIMessageNames.ON_PAID_STARSTONE_CHG)
end

local function OnStarLightRebateChg(self)
    self:UIBroadcast(UIMessageNames.ON_STAR_LIGHT_REBATE_CHG)
end

local function OnTaskDataChg(self)
    self:UIBroadcast(UIMessageNames.ON_TASK_DATA_CHG)
    DataManager:GetInstance():Broadcast(DataMessageNames.ON_REFRESH_TASK)
end

local function OnActivityLoginChg(self)
    self:UIBroadcast(UIMessageNames.ON_ACTIVITY_LOGIN_CHG)
end

local function OnDMBannerChg(self)
    self:UIBroadcast(UIMessageNames.ON_DMBANNER_PUSH)
end

local function OnNameChanged(self)
    self:UIBroadcast(UIMessageNames.ON_NAME_CHANGED)
end

local function OnAddListener(self)
    base.OnAddListener(self)
    --ON_MAIN_UI_CARD_CHG = "OnMainUICardChg",
    self:AddDataListener(DataMessageNames.ON_PLAYER_INFO_CHG,OnPlayerCurrencyChg)
    self:AddDataListener(DataMessageNames.ON_MAIN_UI_CARD_CHG,OnMainUICardChg)
    self:AddDataListener(DataMessageNames.ON_ROOM_INFO_CHG,OnRoomInfoChg)
    self:AddDataListener(DataMessageNames.ON_SUMMON_INFO_CHG,OnSummonInfoChg)
    self:AddDataListener(DataMessageNames.ON_CARD_INFO_CHG,OnCardInfoChg)
    self:AddDataListener(DataMessageNames.ON_HOME_CARD_RECT_CHG,OnHomeCardRectChg)
    self:AddDataListener(DataMessageNames.ON_SLEEP_BUFF_CHG, ChangeSleepBuffState)
    self:AddDataListener(DataMessageNames.ON_REST_BUFF_CHG, ChangeRestBuffState)
    self:AddDataListener(DataMessageNames.ON_TIME_RESET, OnTimeReset)
    --self:AddDataListener(DataMessageNames.ON_Guide_Click,ON_Guide_Click)
    self:AddDataListener(DataMessageNames.ON_PAID_STARSTONE_CHG, OnPaidStarStoneChg)
    self:AddDataListener(DataMessageNames.ON_STAR_LIGHT_REBATE_CHG, OnStarLightRebateChg)
    self:AddDataListener(DataMessageNames.ON_TASK_DATA_CHG, OnTaskDataChg)
    self:AddDataListener(DataMessageNames.ON_ACTIVITY_LOGIN_CHG, OnActivityLoginChg)
    self:AddDataListener(DataMessageNames.ON_DMBANNER_PUSH, OnDMBannerChg)
    self:AddDataListener(DataMessageNames.ON_NAME_CHANGED, OnNameChanged)

end
local function OnRemoveListener(self)
    base.OnRemoveListener(self)
    self:RemoveDataListener(DataMessageNames.ON_PLAYER_INFO_CHG)
    self:RemoveDataListener(DataMessageNames.ON_MAIN_UI_CARD_CHG)
    self:RemoveDataListener(DataMessageNames.ON_ROOM_INFO_CHG)
    self:RemoveDataListener(DataMessageNames.ON_SUMMON_INFO_CHG)
    self:RemoveDataListener(DataMessageNames.ON_HOME_CARD_RECT_CHG)
    self:RemoveDataListener(DataMessageNames.ON_CARD_INFO_CHG)
    self:RemoveDataListener(DataMessageNames.ON_SLEEP_BUFF_CHG)
    self:RemoveDataListener(DataMessageNames.ON_REST_BUFF_CHG)
    self:RemoveDataListener(DataMessageNames.ON_TIME_RESET)
    --self:RemoveDataListener(DataMessageNames.ON_Guide_Click)
    self:RemoveDataListener(DataMessageNames.ON_STAR_LIGHT_REBATE_CHG)
    self:RemoveDataListener(DataMessageNames.ON_TASK_DATA_CHG)
    self:RemoveDataListener(DataMessageNames.ON_PAID_STARSTONE_CHG)
    self:RemoveDataListener(DataMessageNames.ON_ACTIVITY_LOGIN_CHG)
    self:RemoveDataListener(DataMessageNames.ON_DMBANNER_PUSH)
    self:RemoveDataListener(DataMessageNames.ON_NAME_CHANGED)

end

local function OnDisable(self)
    base.OnDisable(self)
end

local function OnDestroy(self)
    base.OnDestroy(self)
end



UIHomeModel.OnCreate = OnCreate
UIHomeModel.OnEnable = OnEnable
UIHomeModel.OnRefresh = OnRefresh
UIHomeModel.OnAddListener = OnAddListener
UIHomeModel.OnRemoveListener = OnRemoveListener
UIHomeModel.OnDisable = OnDisable
UIHomeModel.OnDestroy = OnDestroy

return UIHomeModel