---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by win 10.
--- DateTime: 2019/5/24 16:58
---

local UISkipHintView = BaseClass("UISkipHintView",UIBaseView);
local base = UIBaseView
local this = UISkipHintView

local index_y = {-471,459}

local function OnClick(self)
    UIManager:GetInstance():CloseWindow(UIWindowNames.UISkipHint)
    local info = self.model.info
    if info ~= nil then
        if info.callBack ~= nil then
            info.callBack()
        end
    end
end

function this.OnLangCreate(self)
    LangUtil.BindText(self.text).text = LangUtil.GetSysLang(909)
end


function this.OnCreate(self)
    base.OnCreate(self)
    self.text = self.gameObject.transform:Find("Text"):GetComponent("Text")
    self.txtRect = self.text.transform:GetComponent("RectTransform")
end

function this.OnEnable(self)
    base.OnEnable(self);
    local info = self.model.info or {}
    local state = info.state or 1
    

    self.text:DOFade(0,0)
    self.txtRect:DOLocalMoveY(index_y[state],0)
    self.txtRect:DOScale(Vector2.New(2,2),0)
    self.text:DOFade(1,0.3)
    self.txtRect:DOScale(Vector2.New(1,1),0.3)
    coroutine.waitforseconds(0.3)
    EventTriggerListener.Get(self.gameObject).onLuaClick = function()OnClick(self) end
    self:OnRefresh();

end


function this.OnRefresh(self) 
    
end


function this.OnAddListener(self)
    base.OnAddListener(self)
end

function this.OnRemoveListener(self)
    base.OnRemoveListener(self);
end

function this.OnDisable(self)
    base.OnDisable(self);
    EventTriggerListener.Get(self.gameObject).onLuaClick = nil
end

function this.OnDestroy(self)
    base.OnDestroy(self);
end

return this;

