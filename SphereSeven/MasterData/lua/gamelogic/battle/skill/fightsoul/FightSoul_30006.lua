---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by daiyi.
--- DateTime: 2019/7/18 10:23
--- 乾隆
local FightSoul_30006 = BaseClass("FightSoul_30006",Skill)

local function __init(self)
    self.Data.EnemyFireCount = 0
end

local function OnBuffAddEvent(self, buff)
    if buff.BuffId ~= BattleBuffType.Fire or
        BattleUtil.IsFriend(self.SrcUnit, buff.TargetUnit) then
        return
    end
    self.Data.EnemyFireCount = self.Data.EnemyFireCount + 1
    if self.Data.EnemyFireCount <= 6 then
        self.__snc:Inc(NumericType.AtkPct, self.Params[1])
        Logger.BattleLog(string.format("战魂30006, 敌方灼烧增加攻击: %s, 现个数: %s", self.Params[1], self.Data.EnemyFireCount))
    end
end

local function OnBuffRemoveEvent(self, buff)
    if buff.BuffId ~= BattleBuffType.Fire or
        BattleUtil.IsFriend(self.SrcUnit, buff.TargetUnit) then
        return
    end
    self.Data.EnemyFireCount = self.Data.EnemyFireCount - 1
    if self.Data.EnemyFireCount < 6 then
        self.__snc:Dec(NumericType.AtkPct, self.Params[1])
        Logger.BattleLog(string.format("战魂30006, 敌方灼烧增加攻击回落: %s, 现个数: %s", self.Params[1], self.Data.EnemyFireCount))
    end
end

FightSoul_30006.__init = __init
FightSoul_30006.OnBuffAddEvent = OnBuffAddEvent
FightSoul_30006.OnBuffRemoveEvent = OnBuffRemoveEvent

return FightSoul_30006