---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by daiyi.
--- DateTime: 2019/7/12 22:21
--- 复仇
---
local Buff_2031 = BaseClass("Buff_2031",Buff)
local base = Buff

local function AfterHurt(self)
    local battleComponent = Game.Scene:GetComponent("BattleComponent")
    if battleComponent.CurActUnit == nil then
        return
    end
    local cauUbc = battleComponent.CurActUnit:GetComponent("SsUnitBattleComponent")
    if cauUbc:CurActSkillIsGeneralAtk() then
        if self.__tcc.IsMustCac > 0 then
            return
        end
        self.__tcc:IncSpecialEffect(SpecialEffectType.MustCac)
    end
end

local function AfterAllHurt(self)
    local battleComponent = Game.Scene:GetComponent("BattleComponent")
    if battleComponent.CurActUnit == nil then
        return
    end
    local cauUbc = battleComponent.CurActUnit:GetComponent("SsUnitBattleComponent")
    if cauUbc:CurActSkillIsGeneralAtk() then
        if self.__tcc.IsMustCac > 0 then
            self.__tcc:DecSpecialEffect(SpecialEffectType.MustCac)
        end
    end
end

Buff_2031.AfterHurt = AfterHurt
Buff_2031.AfterAllHurt = AfterAllHurt

return Buff_2031