---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by daiyi.
--- DateTime: 2019/4/12 23:15
---
local CardIntimacyComponent = BaseClass("CardIntimacyComponent", Component)
local base = Component

local function Awake(self)
    base.Awake(self)

    self.numeric_component = self.__entity:GetComponent("NumericComponent")

    local intimacy = self.__entity.Intimacy
    if intimacy == nil or intimacy == 0 then
        return
    end
    local characterIntimacyList = Z_CharacterIntimacy[self.__entity.TemplateId]
    for _, characterIntimacyInfo in ipairs(characterIntimacyList) do
        if intimacy >= characterIntimacyInfo.Friendship then
            for type, value in pairs(characterIntimacyInfo) do
                local addtype = GameUtil.GetAttrTypeBaseFromName(type)
                if addtype ~= 0 and value ~= 0 then
                    self.numeric_component:Inc(addtype, value)
                end
            end
        end
    end
end


local function Dispose(self)
    base.Dispose(self)
end

CardIntimacyComponent.Awake = Awake
CardIntimacyComponent.Dispose = Dispose

return CardIntimacyComponent