---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by daiyi.
--- DateTime: 2019/4/12 23:15
---
local CardConstelComponent = BaseClass("CardConstelComponent", Component)
local base = Component

local function SetSkillAttr(self, BaseAttrVal, id)
    local type = math.modf(BaseAttrVal / 100)
    local vaule = BaseAttrVal % 100
    local skillAttr = {TemplateId = math.modf(id / 100)}

    if type == SkillAttr.CooldownTurn then
        skillAttr.CooldownTurn = vaule
    elseif type == SkillAttr.FriendRange then
        skillAttr.FriendRange = vaule
    end
    table.insert(self.skillAttrs, skillAttr)
end

local function Awake(self)
    base.Awake(self)

    self.numeric_component = self.__entity:GetComponent("NumericComponent") 
    self.skillAttrs = {}

    local constellation = self.__entity.Constellation
    if constellation == nil or constellation == 0 then
        return
    end

    local characterConstellationInfo = Z_CharacterConstellation[self.__entity.TemplateId]
    for i = 1, constellation do
        for type, info in pairs(characterConstellationInfo[i]) do
            local addtype = GameUtil.GetAttrTypeBaseFromName(type)
            if addtype ~= 0 and info ~= 0 then
                self.numeric_component:Inc(addtype, info)
            end
        end
    end
end

local function Dispose(self)
    base.Dispose(self)
end

CardConstelComponent.Awake = Awake
CardConstelComponent.Dispose = Dispose

return CardConstelComponent