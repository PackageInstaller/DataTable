---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by daiyi.
--- DateTime: 2019/4/12 18:22
---
local CardCharacterComponent = BaseClass("CardCharacterComponent", Component)
local base = Component
local criBaseValue = tonumber(Z_Misc["CHARACTER_BASE_CRI"].Value[1])
local CriDamageBaseValue = tonumber(Z_Misc["CHARACTER_BASE_CRIDAMAGE"].Value[1])

local function SetBaseAttr(self)
    local zCharacterGrowth = Z_CharacterGrowth[self.__entity.TemplateId][self.__entity.Level]
    self.numeric_component:Set(NumericType.MaxHpBase, zCharacterGrowth.Hp)
    self.numeric_component:Set(NumericType.AtkBase, zCharacterGrowth.Atk)
    self.numeric_component:Set(NumericType.DefBase, zCharacterGrowth.Def)
    self.numeric_component:Set(NumericType.MagicDefBase, zCharacterGrowth.MagicDef)
    self.numeric_component:Set(NumericType.SpeedBase, zCharacterGrowth.Speed)
end

local function SetBaseStencil(self)
    self.numeric_component:Set(NumericType.CriBase, criBaseValue)
    self.numeric_component:Set(NumericType.CriDamageBase, CriDamageBaseValue)
end

local function Awake(self)
    base.Awake(self)
    self.numeric_component = self.__entity:GetComponent("NumericComponent")
    SetBaseAttr(self)
    SetBaseStencil(self)
end

local function LevelUp(self,level)
    self.__entity.Level = level
    SetBaseAttr(self)
end

local function MaxHp(self)
    return self.numeric_component:Get(NumericType.MaxHp)
end

local function Hp(self)
    return self.numeric_component:Get(NumericType.Hp)
end

local function Atk(self)
    return self.numeric_component:Get(NumericType.Atk)
end

local function Def(self)
    return self.numeric_component:Get(NumericType.Def)
end

local function MagicDef(self)
    return self.numeric_component:Get(NumericType.MagicDef)
end

local function Speed(self)
    return self.numeric_component:Get(NumericType.Speed)
end

local function Dispose(self)
    base.Dispose(self)
end

CardCharacterComponent.Awake = Awake
CardCharacterComponent.LevelUp = LevelUp
CardCharacterComponent.MaxHp = MaxHp
CardCharacterComponent.Hp = Hp
CardCharacterComponent.Atk = Atk
CardCharacterComponent.Def = Def
CardCharacterComponent.MagicDef = MagicDef
CardCharacterComponent.Speed = Speed
CardCharacterComponent.Dispose = Dispose

return CardCharacterComponent