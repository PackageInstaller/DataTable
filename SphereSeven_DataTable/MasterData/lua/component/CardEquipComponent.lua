---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by daiyi.
--- DateTime: 2019/4/12 21:47
---
local CardEquipComponent = BaseClass("CardEquipComponent", Component)
local base = Component

local function EquipEquip(self,equip)
    if(equip ~= nil)then
        local equipAttrComponent = UIPublic.GetEquipPropertyByEid(equip.Id)
        table.walk(equipAttrComponent,function (k,v)
            if k == NumericType.Hp then
                k = NumericType.MaxHpFinalAdd
            elseif k == NumericType.MaxHpPct then
                k = NumericType.MaxHpPct
            elseif k == NumericType.Atk then
                k = NumericType.AtkFinalAdd
            elseif k == NumericType.AtkPct then
                k = NumericType.AtkPct
            elseif k == NumericType.Def then
                k = NumericType.DefFinalAdd
            elseif k == NumericType.DefPct then
                k = NumericType.DefPct
            elseif k == NumericType.MagicDef then
                k = NumericType.MagicFinalAdd
            elseif k == NumericType.MagicDefPct then
                k = NumericType.MagicDefPct
            elseif k == NumericType.Speed then
                k = NumericType.SpeedFinalAdd
            elseif k == NumericType.SpeedPct then
                k = NumericType.SpeedPct
            elseif k == NumericType.Cri then
                k = NumericType.CriAdd
            elseif k == NumericType.CriDamage then
                k = NumericType.CriDamageAdd
            elseif k == NumericType.EAcc then
                k = NumericType.EAccAdd
            elseif k == NumericType.ERist then
                k = NumericType.ERistAdd
            end
            self.numeric_component:Inc(k, v)
        end)
    end
end

local function UnEquipEquip(self,equip)
    if(equip ~= nil)then
        local equipAttrComponent = UIPublic.GetEquipPropertyByEid(equip.Id)
        table.walk(equipAttrComponent,function (k,v)
            self.numeric_component:Inc(k, v)
        end)

        -- local equipAttrComponent = equip:GetComponent("EquipAttrComponent")
        -- table.walk(equipAttrComponent.EquipAttrs,function (k,v)
        --     self.numeric_component:Dec(k, v:Get())
        -- end)
    end
end



local function EquipHand1Equip(self,equip)
    if(equip == nil)then
        return
    end
    self.__entity.Hand1Equip = equip.Id
    self.Hand1Equip = equip
    EquipEquip(self,equip)
end

local function EquipHand2Equip(self,equip)
    if(equip == nil)then
        return
    end
    self.__entity.Hand2Equip= equip.Id
    self.Hand2Equip = equip
    EquipEquip(self,equip)
end

local function EquipBodyEquip(self,equip)
    if(equip == nil)then
        return
    end
    self.__entity.BodyEquip= equip.Id
    self.BodyEquip = equip
    EquipEquip(self,equip)
end
local function EquipHeadEquip(self,equip)
    if(equip == nil)then
        return
    end
    self.__entity.HeadEquip= equip.Id
    self.HeadEquip = equip
    EquipEquip(self,equip)
end
local function EquipFootEquip(self,equip)
    if(equip == nil)then
        return
    end
    self.__entity.FootEquip= equip.Id
    self.FootEquip = equip
    EquipEquip(self,equip)
end

local function EquipAdornEquip(self,equip)
    if(equip == nil)then
        return
    end
    self.__entity.AdornEquip = equip.Id
    self.AdornEquip = equip
    EquipEquip(self,equip)
end

local function Awake(self)
    base.Awake(self)

    self.numeric_component = self.__entity:GetComponent("NumericComponent")
    
    local equipComponent =Game.Scene.Player:GetComponent("EquipComponent")
    local entity = self.__entity
    if not entity.IsSupport then
        self.Hand1Equip = equipComponent:Get(entity.Hand1Equip) 
        self.Hand2Equip = equipComponent:Get(entity.Hand2Equip)
        self.BodyEquip = equipComponent:Get(entity.BodyEquip)
        self.HeadEquip = equipComponent:Get(entity.HeadEquip)
        self.FootEquip = equipComponent:Get(entity.FootEquip)
        self.AdornEquip = equipComponent:Get(entity.AdornEquip)
    else
        self.Hand1Equip =entity.Equips[entity.Hand1Equip]
        self.Hand2Equip = entity.Equips[entity.Hand12Equip]
        self.BodyEquip = entity.Equips[entity.BodyEquip]
        self.HeadEquip = entity.Equips[entity.HeadEquip]
        self.FootEquip = entity.Equips[entity.FootEquip]
        self.AdornEquip = entity.Equips[entity.AdornEquip]
    end
    EquipHand1Equip(self,self.Hand1Equip)
    EquipHand2Equip(self,self.Hand2Equip)
    EquipHeadEquip(self,self.HeadEquip)
    EquipBodyEquip(self,self.BodyEquip)
    EquipFootEquip(self,self.FootEquip)
    EquipAdornEquip(self,self.AdornEquip)
end

local function UnEquipHand1Equip(self)
    UnEquipEquip(self,self.Hand1Equip)
    self.__entity.Hand1Equip = 0
    self.Hand1Equip = nil
end

local function UnEquipHand2Equip(self)
    UnEquipEquip(self,self.Hand2Equip)
    self.__entity.Hand2Equip = 0
    self.Hand2Equip = nil
end
local function UnEquipBodyEquip(self)
    UnEquipEquip(self,self.BodyEquip)
    self.__entity.BodyEquip = 0
    self.BodyEquip = nil
end

local function UnEquipHeadEquip(self)
    UnEquipEquip(self,self.HeadEquip)
    self.__entity.HeadEquip = 0
    self.HeadEquip = nil
end
local function UnEquipFootEquip(self)
    UnEquipEquip(self,self.FootEquip)
    self.__entity.FootEquip = 0
    self.FootEquip = nil
end

local function UnEquipAdornEquip(self)
    UnEquipEquip(self,self.AdornEquip)
    self.__entity.AdornEquip = 0
    self.AdornEquip = nil
end

local function PreviewEquip(self,equip)
    EquipEquip(self,equip)
end

local function PreviewUnEquip(self,equip)
    UnEquipEquip(self,equip)
end


local function Dispose(self)
    base.Dispose(self)
end

CardEquipComponent.Awake = Awake
CardEquipComponent.EquipHand1Equip = EquipHand1Equip
CardEquipComponent.UnEquipHand1Equip= UnEquipHand1Equip
CardEquipComponent.EquipHand2Equip = EquipHand2Equip
CardEquipComponent.UnEquipHand2Equip= UnEquipHand2Equip
CardEquipComponent.EquipBodyEquip = EquipBodyEquip
CardEquipComponent.UnEquipBodyEquip = UnEquipBodyEquip
CardEquipComponent.EquipHeadEquip = EquipHeadEquip
CardEquipComponent.UnEquipHeadEquip = UnEquipHeadEquip
CardEquipComponent.EquipFootEquip = EquipFootEquip
CardEquipComponent.UnEquipFootEquip = UnEquipFootEquip
CardEquipComponent.EquipAdornEquip = EquipAdornEquip
CardEquipComponent.UnEquipAdornEquip = UnEquipAdornEquip
CardEquipComponent.PreviewEquip = PreviewEquip
CardEquipComponent.PreviewUnEquip = PreviewUnEquip
CardEquipComponent.Dispose = Dispose

return CardEquipComponent