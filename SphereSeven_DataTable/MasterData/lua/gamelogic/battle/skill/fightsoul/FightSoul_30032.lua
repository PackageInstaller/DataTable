---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by daiyi.
--- DateTime: 2019/7/18 14:15
--- 兰斯洛特
---
local FightSoul_30032 = BaseClass("FightSoul_30032",Skill)
local base = Skill

local function __init(self)
    self.Data.Status = 1
end

local function EnableEffect1(self)
    self.__snc:Inc(NumericType.AtkPct, self.Params[1])
end

local function EnableEffect2(self)

end

local function DisableEffect1(self)
    self.__snc:Dec(NumericType.AtkPct, self.Params[1])
end

local function DisableEffect2(self)

end

local function OnBattleStart(self)
    EnableEffect1(self)
end



local function OnHpChange(self)
    if self.__snc:Get(NumericType.Hp)/self.__snc:Get(NumericType.MaxHp) >= 0.5 then
        if self.Data.Status == 1 then
            return
        end
        EnableEffect1(self)
        DisableEffect2(self)
        self.Data.Status = 1
    else
        if self.Data.Status == 2 then
            return
        end
        EnableEffect2(self)
        DisableEffect1(self)
        self.Data.Status = 2
    end
end

local function AfterDamage(self, result, targetUnit)
    if self.Data.Status ~= 2 then
        return
    end
    result.FeixiaoLifeSteal.Value = result.FeixiaoLifeSteal.Value + self.Params[2] / 100
end

FightSoul_30032.__init = __init
FightSoul_30032.OnHpChange = OnHpChange
FightSoul_30032.OnBattleStart = OnBattleStart
FightSoul_30032.AfterDamage = AfterDamage

return FightSoul_30032