---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by daiyi.
--- DateTime: 2019/7/18 10:27
--- 路易十四
--- 自身处于 Buff[Tag:${Params[1]}%] 状态时，暴击率与暴击伤害提升${Params[2]}%。

local FightSoul_30007 = BaseClass("FightSoul_30007",Skill)
local base = Skill

local function __init(self)
end

local function BeforeHit(self, activeSkillResult)
    base.BeforeHit(self)
    -- 去掉配置表导出后的小数点
    local tag = math.modf(self.Params[1])
    if self.SrcUnit:GetComponent("BuffComponent"):HasBuffTag(tag) then
        activeSkillResult.ExtraCri = activeSkillResult.ExtraCri + self.Params[2]
        activeSkillResult.ExtraCriDamage = activeSkillResult.ExtraCriDamage + self.Params[2]
    end
end

FightSoul_30007.__init = __init
FightSoul_30007.BeforeHit = BeforeHit

return FightSoul_30007