---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by daiyi.
---流血Buff
--- DateTime: 2019/5/5 11:35
---
local Buff_1015 = BaseClass("Buff_1015",Buff)
local base = Buff

local function OnRoundStart(self)
    self.occured = true
    local hp = math.modf(self.__tnc:Get(NumericType.MaxHp)*0.15)
    local tbc = self.TargetUnit:GetComponent("SsUnitBattleComponent")
    tbc:ReduceHp(hp)
    tbc:GenHUDText(hp, HUDTextType.Red, HUDTextType.Dmg)
end

local function OnRoundEnd(self)
    if not self.occured then
        return
    end
    base.OnRoundEnd(self)
end

Buff_1015.OnRoundEnd = OnRoundEnd
Buff_1015.OnRoundStart = OnRoundStart

return Buff_1015