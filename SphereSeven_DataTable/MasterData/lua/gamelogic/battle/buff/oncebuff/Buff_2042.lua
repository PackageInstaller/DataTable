---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- 索命

local Buff_2042 = BaseClass("Buff_2042",Buff)
local base = Buff

local function OnOccur(self)
    base.OnOccur(self)
    self.__tcc:IncSpecialEffect(SpecialEffectType.SuoLife)
end

local function OnRemoved(self)
    self.__tcc:DecSpecialEffect(SpecialEffectType.SuoLife)
    base.OnRemoved(self)
end

-- 当前行动是索命
local function BeforeHit(self)
    local battle_component = Game.Scene:GetComponent("BattleComponent")
    if battle_component.CurActType ~= ActType.SuoLife then
        return
    end
    self.occured = true
end

local function OnAtkEnd(self)
    if not self.occured then
        return
    end
    OnRemoved(self)
end

Buff_2042.BeforeHit = BeforeHit
Buff_2042.OnOccur = OnOccur
Buff_2042.OnRemoved = OnRemoved
Buff_2042.OnAtkEnd = OnAtkEnd

return Buff_2042